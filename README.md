# ๐ Telegram ะคะธะฝะฐะฝัะพะฒัะน ะะพั (Telethon + Aiogram)

ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑัะฐะฑะฐััะฒะฐะตั ัะธะฝะฐะฝัะพะฒัะต ัะพะพะฑัะตะฝะธั ะฒ Telegram, ััะผะผะธััะตั ะทะฝะฐัะตะฝะธั ะธ ะฒัะฒะพะดะธั ะธัะพะณะพะฒัะน ะฑะฐะปะฐะฝั ั ััััะพะผ ะบะฐัั ะธะท ะฑะฐะทั ะดะฐะฝะฝัั. ะะพะดะดะตัะถะธะฒะฐะตั Telegram-ะบะฝะพะฟะบะธ ะดะปั ะฟะพะปััะตะฝะธั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะธ.

---

## ๐ ะะพะทะผะพะถะฝะพััะธ

- ะะฐััะธั ัะพะพะฑัะตะฝะธั ั ัะฐะฑะปะพะฝะพะผ: `^ะะฐะทะฒะฐะฝะธะต$12345.67$`
- ะะพะดััะธััะฒะฐะตั ััะผะผั ะฒัะตั ะทะฝะฐัะตะฝะธะน
- ะะพะปััะฐะตั ะพััะฐัะบะธ ะฟะพ ะบะฐััะฐะผ ะธะท MySQL
- ะัะฟัะฐะฒะปัะตั ะธัะพะณะพะฒะพะต ัะพะพะฑัะตะฝะธะต ะฒะปะฐะดะตะปััั ะฒ Telegram
- ะะพะดะดะตัะถะธะฒะฐะตั ะบะฝะพะฟะบะธ ะดะปั ะฟะพะปััะตะฝะธั:
  - ะฟะพะดัะพะฑะฝะพะณะพ ัะฟะธัะบะฐ ะบะฐัั
  - ัะฐะทะฑะธะฒะบะธ ะฟะพ ะพะฑัะตะบัะฐะผ

---

## ๐งฐ ะขะตัะฝะพะปะพะณะธะธ

- [Telethon](https://github.com/LonamiWebs/Telethon) โ ะฟัะธัะผ ัะพะพะฑัะตะฝะธะน
- [Aiogram v3](https://github.com/aiogram/aiogram) โ ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั Telegram API
- [PyMySQL](https://github.com/PyMySQL/PyMySQL) โ ะฟะพะดะบะปััะตะฝะธะต ะบ MySQL
- [python-dotenv](https://github.com/theskumar/python-dotenv) โ ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
- Docker + Docker Compose + GitHub Actions โ ะดะตะฟะปะพะน ะธ ะฟัะฑะปะธะบะฐัะธั

---

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ๐น 1. ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน

```bash
git clone https://github.com/yourrepo/telegram-finance-bot.git
cd telegram-finance-bot
```

### ๐น 2. ะกะพะทะดะฐัั `.env` ัะฐะนะป

```dotenv
TG_API_ID=...
TG_API_HASH=...
BOT_TOKEN=...
OWNER_CHAT_ID=...

DB_USER=...
DB_PASS=...
DB_HOST=...
DB_PORT=3366
DB_NAME=...
```

> `.env` ะฝะต ะดะพะปะถะตะฝ ะฟะพะฟะฐะดะฐัั ะฒ ัะตะฟะพะทะธัะพัะธะน!

---

## ๐ณ ะะฐะฟััะบ ะฒ Docker

```bash
docker compose up --build
```

---

## ๐งช ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

```bash
pip install -r req.txt
python worker.py
```

---

## โ๏ธ CI/CD ัะตัะตะท GitHub Actions

ะัะพะตะบั ะฐะฒัะพะผะฐัะธัะตัะบะธ:

1. ะะพัััะฐะฝะฐะฒะปะธะฒะฐะตั `.env` ะธะท GitHub Secrets
2. ะะพัััะฐะฝะฐะฒะปะธะฒะฐะตั `anon.session` ะธะท base64
3. ะัะฑะปะธะบัะตั Docker-ะพะฑัะฐะท ะฒ Docker Hub

### ะะตะพะฑัะพะดะธะผัะต GitHub Secrets:

| ะะฐะทะฒะฐะฝะธะต              | ะะฟะธัะฐะฝะธะต                          |
|-----------------------|-----------------------------------|
| `TG_API_ID`           | Telegram API ID                   |
| `TG_API_HASH`         | Telegram API Hash                 |
| `BOT_TOKEN`           | ะขะพะบะตะฝ Telegram-ะฑะพัะฐ              |
| `OWNER_CHAT_ID`       | ID ัะฐัะฐ ะฒะปะฐะดะตะปััะฐ                 |
| `DB_USER`             | MySQL ะปะพะณะธะฝ                       |
| `DB_PASS`             | MySQL ะฟะฐัะพะปั                      |
| `DB_HOST`             | ะฅะพัั ะะ                           |
| `DB_PORT`             | ะะพัั ะะ                           |
| `DB_NAME`             | ะะผั ะะ                            |
| `ANON_SESSION_B64`    | anon.session, ะทะฐะบะพะดะธัะพะฒะฐะฝะฝัะน base64 |
| `DOCKER_USERNAME`     | ะะพะณะธะฝ Docker Hub                  |
| `DOCKER_PASSWORD`     | ะขะพะบะตะฝ Docker Hub                  |

---

## ๐ ะะฐะบ ะฟะพะปััะธัั `ANON_SESSION_B64` (Windows):

```powershell
[Convert]::ToBase64String([IO.File]::ReadAllBytes("anon.session")) > anon.session.b64
```

ะะพะฑะฐะฒั ัะพะดะตัะถะธะผะพะต ัะฐะนะปะฐ `anon.session.b64` ะฒ GitHub Secrets.

---

## ๐ผ ะัะธะผะตั ะฒัะฒะพะดะฐ

```
๐ ะะฐะปะฐะฝั ะญะบะพัะผะพัั ะฝะฐ 01.08.2025

๐ณ 1. ะ/ั: 450 000,00 โฝ
๐ฆ 2. ะะฐััั ะัะฐะนะฒ: 720 450,00 โฝ

๐งพ ะัะพะณะพ: 1 170 450,00 โฝ
```

ะะฝะพะฟะบะธ:
- ๐ ะะพะดัะพะฑะฝะพ ะบะฐััั
- ๐จ ะะพะดัะพะฑะฝะพ ััะตัะฐ

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ worker.py
โโโ Dockerfile
โโโ docker-compose.yml
โโโ docker-publish.yml
โโโ req.txt
โโโ .env.example
```

---

## ๐ ะะธัะตะฝะทะธั

MIT โ ัะฒะพะฑะพะดะฝะพ ะธัะฟะพะปัะทัะนัะต ะธ ะฐะดะฐะฟัะธััะนัะต ะฟะพะด ัะฒะพะธ ะทะฐะดะฐัะธ.